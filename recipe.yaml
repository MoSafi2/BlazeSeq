context:
  version: "0.1.0"
  max_version: "=0.26.1"

package:
  name: "blazeseq"
  version: ${{ version }}

source:
  path: .
  use_gitignore: true

build:
  number: 0
  script:
    - mojo package blazeseq -o ${{ PREFIX }}/lib/mojo/BlazeSeq.mojopkg

requirements:
  host:
    - max ${{ max_version }}
  run:
    - max ${{ max_version }}

tests:
  - script:
      - if: unix
        then:
          - mojo test -I ${{ PREFIX }}/lib/mojo/BlazeSeq.mojopkg tests/test_device_record.mojo
          - mojo test -I ${{ PREFIX }}/lib/mojo/BlazeSeq.mojopkg tests/test_iostream.mojo
    requirements:
      run:
        - max ${{ max_version }}
    files:
      recipe:
        - tests/test_device_record.mojo
        - tests/test_iostream.mojo
        - tests/__init__.mojo

about:
  homepage: https://github.com/BlazeSeq/BlazeSeq
  license: MIT
  license_file: LICENSE
  summary: Fast FASTQ parsing and GPU-accelerated sequencing utilities in Mojo.
  repository: https://github.com/BlazeSeq/BlazeSeq

extra:
  maintainers: []
  project_name: blazeseq
